<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Kimya Hesaplayƒ±cƒ±</title>
  <style>
    :root {
      --primary-color: #005b96;
      --secondary-color: #003d66;
      --text-color: #333;
      --bg-color: #f4f4f4;
      --card-bg: white;
      --border-color: #ddd;
      --hover-color: #f0f0f0;
    }
    .dark-mode {
      --primary-color: #4a89dc;
      --secondary-color: #3b6cb0;
      --text-color: #f0f0f0;
      --bg-color: #121212;
      --card-bg: #1e1e1e;
      --border-color: #444;
      --hover-color: #333;
    }
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: var(--bg-color);
      color: var(--text-color);
      transition: all 0.3s ease;
    }
    .orientation-tip {
      background: #ffcc00;
      color: black;
      padding: 0.5rem;
      text-align: center;
      font-weight: bold;
    }
    nav {
      background: var(--primary-color);
      color: white;
      padding: 1rem;
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      position: relative;
    }
    nav button {
      background: transparent;
      border: none;
      color: white;
      font-size: 1rem;
      cursor: pointer;
      padding: 0.5rem;
      border-radius: 4px;
    }
    nav button:hover {
      background: rgba(255,255,255,0.2);
    }
    .dark-mode-toggle {
      position: absolute;
      right: 1rem;
      top: 1rem;
      background: rgba(255,255,255,0.2);
      border: none;
      color: white;
      padding: 0.5rem;
      border-radius: 4px;
      cursor: pointer;
    }
    .section {
      display: none;
      padding: 1.5rem;
      background: var(--card-bg);
      margin: 1rem;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .section.active {
      display: block;
    }
    .form-group {
      margin-bottom: 1rem;
    }
    label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: bold;
    }
    input, select {
      padding: 0.5rem;
      margin: 0.5rem 0;
      width: 100%;
      max-width: 300px;
      border: 1px solid var(--border-color);
      border-radius: 4px;
      background: var(--card-bg);
      color: var(--text-color);
    }
    button.calc-btn {
      padding: 0.5rem 1rem;
      background: var(--primary-color);
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-weight: bold;
      margin-right: 0.5rem;
    }
    button.calc-btn:hover {
      background: var(--secondary-color);
    }
    .result {
      margin-top: 1rem;
      padding: 1rem;
      background: rgba(0,91,150,0.1);
      border-left: 4px solid var(--primary-color);
      border-radius: 4px;
    }
    .result-value {
      font-weight: bold;
      color: var(--primary-color);
    }
    table {
      border-collapse: collapse;
      width: 100%;
      max-width: 100%;
      overflow-x: auto;
      margin: 1rem 0;
    }
    th, td {
      border: 1px solid var(--border-color);
      padding: 0.5rem;
      text-align: center;
    }
    th {
      background-color: rgba(0,91,150,0.1);
    }
    tr:hover {
      background-color: var(--hover-color);
    }
    .add-entry {
      margin-top: 1rem;
      padding: 1rem;
      border: 1px solid var(--border-color);
      background: var(--hover-color);
      border-radius: 8px;
    }
    .history-item {
      padding: 0.5rem;
      border-bottom: 1px solid var(--border-color);
      cursor: pointer;
    }
    .history-item:hover {
      background-color: var(--hover-color);
    }
    .copy-btn {
      background: #4CAF50;
      color: white;
      border: none;
      padding: 0.3rem 0.6rem;
      border-radius: 4px;
      cursor: pointer;
      margin-left: 0.5rem;
    }
    .tabs-container {
      display: flex;
      margin-bottom: 1rem;
    }
    .tab {
      padding: 0.5rem 1rem;
      background: #e0e0e0;
      cursor: pointer;
      border-radius: 4px 4px 0 0;
      margin-right: 0.5rem;
    }
    .tab.active {
      background: var(--primary-color);
      color: white;
    }
    .solution-container {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      margin-bottom: 1rem;
    }
    .solution-card {
      flex: 1;
      min-width: 250px;
      padding: 1rem;
      border: 1px solid var(--border-color);
      border-radius: 8px;
      background: var(--hover-color);
    }
    .substance-info {
      font-size: 0.8rem;
      color: #666;
      margin-top: 0.3rem;
    }
    .dark-mode .substance-info {
      color: #aaa;
    }
    @media (max-width: 768px) {
      nav {
        flex-direction: column;
        gap: 0.5rem;
      }
      .dark-mode-toggle {
        position: static;
        margin-top: 0.5rem;
      }
      .solution-container {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>

  <div class="orientation-tip">Mobil kullanƒ±cƒ±lar i√ßin: L√ºtfen cihazƒ±nƒ±zƒ± yatay kullanƒ±n!</div>

  <nav>
    <button onclick="showSection('common')">Yaygƒ±n Asit‚ÄìBazlar</button>
    <button onclick="showSection('ph')">pH / pOH Hesaplama</button>
    <button onclick="showSection('mix')">Karƒ±≈üƒ±m Son pH</button>
    <button onclick="showSection('project')">Proje Bilgileri</button>
    <button class="dark-mode-toggle" onclick="toggleDarkMode()">üåô Karanlƒ±k Mod</button>
  </nav>

  <div id="common" class="section active">
    <h2>Yaygƒ±n Asit‚ÄìBaz E≈ülenikleri</h2>
    <table id="substance-table">
      <thead>
        <tr>
          <th>Madde</th>
          <th>T√ºr</th>
          <th>E≈ülenik</th>
          <th>ƒ∞yonla≈üma</th>
          <th>G√º√ß</th>
          <th>pH (0.1M)</th>
          <th>Uygula</th>
        </tr>
      </thead>
      <tbody id="table-body"></tbody>
    </table>

    <div class="add-entry">
      <h3>Yeni Madde Ekle</h3>
      <div class="form-group">
        <input id="madde" placeholder="Madde Adƒ±"/>
      </div>
      <div class="form-group">
        <select id="tur">
          <option value="h">Asit</option>
          <option value="oh">Baz</option>
        </select>
      </div>
      <div class="form-group">
        <input id="eslenik" placeholder="E≈ülenik"/>
      </div>
      <div class="form-group">
        <input id="iyon" placeholder="ƒ∞yonla≈üma"/>
      </div>
      <div class="form-group">
        <input id="guc" placeholder="G√º√ßl√º / Zayƒ±f"/>
      </div>
      <div class="form-group">
        <input id="phdeger" type="number" step="any" placeholder="pH"/>
      </div>
      <div class="form-group">
        <input id="konsantrasyon" type="number" step="any" placeholder="Molarite"/>
      </div>
      <button class="calc-btn" onclick="addCustomSubstance()">Ekle</button>
    </div>
  </div>

  <div id="ph" class="section">
    <h2>pH / pOH Hesaplama</h2>
    
    <div class="tabs-container">
      <div class="tab active" onclick="switchPhTab('conc-to-ph')">Deri≈üim ‚Üí pH/pOH</div>
      <div class="tab" onclick="switchPhTab('ph-to-conc')">pH/pOH ‚Üí Deri≈üim</div>
    </div>
    
    <div id="conc-to-ph-content">
      <div class="form-group">
        <label>H‚Å∫ veya OH‚Åª Deri≈üimi (mol/L):</label>
        <input type="number" id="concentration" step="any" />
      </div>
      <div class="form-group">
        <select id="ion-type">
          <option value="h">H‚Å∫ (Asit)</option>
          <option value="oh">OH‚Åª (Baz)</option>
        </select>
      </div>
      <button class="calc-btn" onclick="calculatePH()">Hesapla</button>
      <div class="result" id="ph-result"></div>
    </div>
    
    <div id="ph-to-conc-content" style="display:none;">
      <div class="form-group">
        <label>pH veya pOH Deƒüeri:</label>
        <input type="number" id="ph-value" step="any" />
      </div>
      <div class="form-group">
        <select id="ph-type">
          <option value="ph">pH</option>
          <option value="poh">pOH</option>
        </select>
      </div>
      <button class="calc-btn" onclick="calculateConcentration()">Hesapla</button>
      <div class="result" id="conc-result"></div>
    </div>
    
    <div class="history-section">
      <h3>Hesaplama Ge√ßmi≈üi</h3>
      <div id="ph-history"></div>
    </div>
  </div>

  <div id="mix" class="section">
    <h2>Karƒ±≈üƒ±m Son pH Hesaplama</h2>
    
    <div class="solution-container">
      <div class="solution-card">
        <h3>1. √á√∂zelti</h3>
        <div class="form-group">
          <label>H‚Å∫ Deri≈üimi (mol/L):</label>
          <input type="number" id="conc1" step="any" />
        </div>
        <div class="form-group">
          <label>Hacmi (mL):</label>
          <input type="number" id="vol1" step="any" />
        </div>
      </div>
      
      <div class="solution-card">
        <h3>2. √á√∂zelti</h3>
        <div class="form-group">
          <label>H‚Å∫ Deri≈üimi (mol/L):</label>
          <input type="number" id="conc2" step="any" />
        </div>
        <div class="form-group">
          <label>Hacmi (mL):</label>
          <input type="number" id="vol2" step="any" />
        </div>
      </div>
    </div>
    
    <button class="calc-btn" onclick="calculateMixPH()">Hesapla</button>
    <div class="result" id="mix-result"></div>
  </div>

  <div id="project" class="section">
    <h2>Proje Bilgileri</h2>
    <p><strong>√ñƒürenci Adƒ±:</strong> Mete Bora ATASOY </p>
    <p><strong>√ñƒüretmen Adƒ±:</strong> Durmu≈ü Ali √ñZ </p>
    <p><strong>Okul:</strong> √áar≈üamba Fen Lisesi</p>
    <p><strong>Tarih:</strong> 24 Mayƒ±s 2025</p>
    <p><strong>A√ßƒ±klama:</strong> Bu proje, kimya √∂ƒürencilerinin asit-baz hesaplamalarƒ±nƒ± kolayca yapabilmeleri i√ßin geli≈ütirilmi≈ü bir ara√ßtƒ±r. pH/pOH hesaplamalarƒ±, yaygƒ±n asit-baz bilgileri ve karƒ±≈üƒ±m hesaplamalarƒ±nƒ± i√ßerir.</p>
  </div>

  <script>
    const defaultData = [
      // G√º√ßl√º Asitler
      ['HCl', 'h', 'Cl‚Åª', 'HCl ‚Üí H‚Å∫ + Cl‚Åª', 'G√º√ßl√º', 1.0, 0.1, 'Hidroklorik asit (Tuz ruhu)'],
      ['HBr', 'h', 'Br‚Åª', 'HBr ‚Üí H‚Å∫ + Br‚Åª', 'G√º√ßl√º', 1.0, 0.1, 'Hidrobromik asit'],
      ['HI', 'h', 'I‚Åª', 'HI ‚Üí H‚Å∫ + I‚Åª', 'G√º√ßl√º', 1.0, 0.1, 'Hidroiyodik asit'],
      ['HNO‚ÇÉ', 'h', 'NO‚ÇÉ‚Åª', 'HNO‚ÇÉ ‚Üí H‚Å∫ + NO‚ÇÉ‚Åª', 'G√º√ßl√º', 1.0, 0.1, 'Nitrik asit (Kezzap)'],
      ['HClO‚ÇÑ', 'h', 'ClO‚ÇÑ‚Åª', 'HClO‚ÇÑ ‚Üí H‚Å∫ + ClO‚ÇÑ‚Åª', 'G√º√ßl√º', 1.0, 0.1, 'Perklorik asit'],
      ['H‚ÇÇSO‚ÇÑ', 'h', 'HSO‚ÇÑ‚Åª', 'H‚ÇÇSO‚ÇÑ ‚Üí H‚Å∫ + HSO‚ÇÑ‚Åª', 'G√º√ßl√º', 0.7, 0.1, 'S√ºlf√ºrik asit (Za√ß yaƒüƒ±)'],
      ['HSO‚ÇÑ‚Åª', 'h', 'SO‚ÇÑ¬≤‚Åª', 'HSO‚ÇÑ‚Åª ‚áå H‚Å∫ + SO‚ÇÑ¬≤‚Åª', 'Zayƒ±f', 1.9, 0.1, 'Hidrojen s√ºlfat iyonu'],
      
      // Zayƒ±f Asitler
      ['HF', 'h', 'F‚Åª', 'HF ‚áå H‚Å∫ + F‚Åª', 'Zayƒ±f', 2.1, 0.1, 'Hidroflorik asit'],
      ['CH‚ÇÉCOOH', 'h', 'CH‚ÇÉCOO‚Åª', 'CH‚ÇÉCOOH ‚áå H‚Å∫ + CH‚ÇÉCOO‚Åª', 'Zayƒ±f', 2.9, 0.1, 'Asetik asit (Sirke asidi)'],
      ['HCOOH', 'h', 'HCOO‚Åª', 'HCOOH ‚áå H‚Å∫ + HCOO‚Åª', 'Zayƒ±f', 2.4, 0.1, 'Formik asit (Karƒ±nca asidi)'],
      ['H‚ÇÇCO‚ÇÉ', 'h', 'HCO‚ÇÉ‚Åª', 'H‚ÇÇCO‚ÇÉ ‚áå H‚Å∫ + HCO‚ÇÉ‚Åª', 'Zayƒ±f', 3.7, 0.1, 'Karbonik asit'],
      ['HCO‚ÇÉ‚Åª', 'h', 'CO‚ÇÉ¬≤‚Åª', 'HCO‚ÇÉ‚Åª ‚áå H‚Å∫ + CO‚ÇÉ¬≤‚Åª', 'Zayƒ±f', 10.3, 0.1, 'Hidrojen karbonat (Bikarbonat)'],
      ['H‚ÇÉPO‚ÇÑ', 'h', 'H‚ÇÇPO‚ÇÑ‚Åª', 'H‚ÇÉPO‚ÇÑ ‚áå H‚Å∫ + H‚ÇÇPO‚ÇÑ‚Åª', 'Zayƒ±f', 1.5, 0.1, 'Fosforik asit'],
      ['H‚ÇÇPO‚ÇÑ‚Åª', 'h', 'HPO‚ÇÑ¬≤‚Åª', 'H‚ÇÇPO‚ÇÑ‚Åª ‚áå H‚Å∫ + HPO‚ÇÑ¬≤‚Åª', 'Zayƒ±f', 6.9, 0.1, 'Dihidrojen fosfat'],
      ['HPO‚ÇÑ¬≤‚Åª', 'h', 'PO‚ÇÑ¬≥‚Åª', 'HPO‚ÇÑ¬≤‚Åª ‚áå H‚Å∫ + PO‚ÇÑ¬≥‚Åª', 'Zayƒ±f', 12.4, 0.1, 'Hidrojen fosfat'],
      ['H‚ÇÇS', 'h', 'HS‚Åª', 'H‚ÇÇS ‚áå H‚Å∫ + HS‚Åª', 'Zayƒ±f', 4.1, 0.1, 'Hidrojen s√ºlf√ºr'],
      ['HS‚Åª', 'h', 'S¬≤‚Åª', 'HS‚Åª ‚áå H‚Å∫ + S¬≤‚Åª', 'Zayƒ±f', 12.9, 0.1, 'Hidrojen s√ºlf√ºr iyonu'],
      ['HCN', 'h', 'CN‚Åª', 'HCN ‚áå H‚Å∫ + CN‚Åª', 'Zayƒ±f', 5.1, 0.1, 'Hidrosiyanik asit'],
      ['HNO‚ÇÇ', 'h', 'NO‚ÇÇ‚Åª', 'HNO‚ÇÇ ‚áå H‚Å∫ + NO‚ÇÇ‚Åª', 'Zayƒ±f', 2.1, 0.1, 'Nitr√∂z asit'],
      ['HClO', 'h', 'ClO‚Åª', 'HClO ‚áå H‚Å∫ + ClO‚Åª', 'Zayƒ±f', 4.2, 0.1, 'Hipoklor√∂z asit'],
      ['HBrO', 'h', 'BrO‚Åª', 'HBrO ‚áå H‚Å∫ + BrO‚Åª', 'Zayƒ±f', 4.7, 0.1, 'Hipobrom√∂z asit'],
      ['HIO', 'h', 'IO‚Åª', 'HIO ‚áå H‚Å∫ + IO‚Åª', 'Zayƒ±f', 5.9, 0.1, 'Hipoiod√∂z asit'],
      ['C‚ÇÜH‚ÇÖCOOH', 'h', 'C‚ÇÜH‚ÇÖCOO‚Åª', 'C‚ÇÜH‚ÇÖCOOH ‚áå H‚Å∫ + C‚ÇÜH‚ÇÖCOO‚Åª', 'Zayƒ±f', 2.9, 0.1, 'Benzoik asit'],
      
      // G√º√ßl√º Bazlar
      ['NaOH', 'oh', 'Na‚Å∫', 'NaOH ‚Üí Na‚Å∫ + OH‚Åª', 'G√º√ßl√º', 13.0, 0.1, 'Sodyum hidroksit (Sud kostik)'],
      ['KOH', 'oh', 'K‚Å∫', 'KOH ‚Üí K‚Å∫ + OH‚Åª', 'G√º√ßl√º', 13.0, 0.1, 'Potasyum hidroksit (Potas kostik)'],
      ['LiOH', 'oh', 'Li‚Å∫', 'LiOH ‚Üí Li‚Å∫ + OH‚Åª', 'G√º√ßl√º', 13.0, 0.1, 'Lityum hidroksit'],
      ['RbOH', 'oh', 'Rb‚Å∫', 'RbOH ‚Üí Rb‚Å∫ + OH‚Åª', 'G√º√ßl√º', 13.0, 0.1, 'Rubidyum hidroksit'],
      ['CsOH', 'oh', 'Cs‚Å∫', 'CsOH ‚Üí Cs‚Å∫ + OH‚Åª', 'G√º√ßl√º', 13.0, 0.1, 'Sezyum hidroksit'],
      ['Ca(OH)‚ÇÇ', 'oh', 'Ca¬≤‚Å∫', 'Ca(OH)‚ÇÇ ‚Üí Ca¬≤‚Å∫ + 2OH‚Åª', 'G√º√ßl√º', 13.3, 0.1, 'Kalsiyum hidroksit (S√∂nm√º≈ü kire√ß)'],
      ['Ba(OH)‚ÇÇ', 'oh', 'Ba¬≤‚Å∫', 'Ba(OH)‚ÇÇ ‚Üí Ba¬≤‚Å∫ + 2OH‚Åª', 'G√º√ßl√º', 13.3, 0.1, 'Baryum hidroksit'],
      ['Sr(OH)‚ÇÇ', 'oh', 'Sr¬≤‚Å∫', 'Sr(OH)‚ÇÇ ‚Üí Sr¬≤‚Å∫ + 2OH‚Åª', 'G√º√ßl√º', 13.3, 0.1, 'Stronsiyum hidroksit'],
      
      // Zayƒ±f Bazlar
      ['NH‚ÇÉ', 'oh', 'NH‚ÇÑ‚Å∫', 'NH‚ÇÉ + H‚ÇÇO ‚áå NH‚ÇÑ‚Å∫ + OH‚Åª', 'Zayƒ±f', 11.1, 0.1, 'Amonyak'],
      ['CH‚ÇÉNH‚ÇÇ', 'oh', 'CH‚ÇÉNH‚ÇÉ‚Å∫', 'CH‚ÇÉNH‚ÇÇ + H‚ÇÇO ‚áå CH‚ÇÉNH‚ÇÉ‚Å∫ + OH‚Åª', 'Zayƒ±f', 11.8, 0.1, 'Metilamin'],
      ['C‚ÇÇH‚ÇÖNH‚ÇÇ', 'oh', 'C‚ÇÇH‚ÇÖNH‚ÇÉ‚Å∫', 'C‚ÇÇH‚ÇÖNH‚ÇÇ + H‚ÇÇO ‚áå C‚ÇÇH‚ÇÖNH‚ÇÉ‚Å∫ + OH‚Åª', 'Zayƒ±f', 11.8, 0.1, 'Etilamin'],
      ['C‚ÇÖH‚ÇÖN', 'oh', 'C‚ÇÖH‚ÇÖNH‚Å∫', 'C‚ÇÖH‚ÇÖN + H‚ÇÇO ‚áå C‚ÇÖH‚ÇÖNH‚Å∫ + OH‚Åª', 'Zayƒ±f', 9.2, 0.1, 'Piridin'],
      ['NH‚ÇÇOH', 'oh', 'NH‚ÇÉOH‚Å∫', 'NH‚ÇÇOH + H‚ÇÇO ‚áå NH‚ÇÉOH‚Å∫ + OH‚Åª', 'Zayƒ±f', 8.0, 0.1, 'Hidroksilamin'],
      ['N‚ÇÇH‚ÇÑ', 'oh', 'N‚ÇÇH‚ÇÖ‚Å∫', 'N‚ÇÇH‚ÇÑ + H‚ÇÇO ‚áå N‚ÇÇH‚ÇÖ‚Å∫ + OH‚Åª', 'Zayƒ±f', 8.1, 0.1, 'Hidrazin'],
      ['CO‚ÇÉ¬≤‚Åª', 'oh', 'HCO‚ÇÉ‚Åª', 'CO‚ÇÉ¬≤‚Åª + H‚ÇÇO ‚áå HCO‚ÇÉ‚Åª + OH‚Åª', 'Zayƒ±f', 11.6, 0.1, 'Karbonat iyonu'],
      ['PO‚ÇÑ¬≥‚Åª', 'oh', 'HPO‚ÇÑ¬≤‚Åª', 'PO‚ÇÑ¬≥‚Åª + H‚ÇÇO ‚áå HPO‚ÇÑ¬≤‚Åª + OH‚Åª', 'Zayƒ±f', 13.0, 0.1, 'Fosfat iyonu'],
      ['CN‚Åª', 'oh', 'HCN', 'CN‚Åª + H‚ÇÇO ‚áå HCN + OH‚Åª', 'Zayƒ±f', 11.1, 0.1, 'Siyan√ºr iyonu'],
      ['NO‚ÇÇ‚Åª', 'oh', 'HNO‚ÇÇ', 'NO‚ÇÇ‚Åª + H‚ÇÇO ‚áå HNO‚ÇÇ + OH‚Åª', 'Zayƒ±f', 8.4, 0.1, 'Nitrit iyonu'],
      ['CH‚ÇÉCOO‚Åª', 'oh', 'CH‚ÇÉCOOH', 'CH‚ÇÉCOO‚Åª + H‚ÇÇO ‚áå CH‚ÇÉCOOH + OH‚Åª', 'Zayƒ±f', 8.9, 0.1, 'Asetat iyonu'],
      ['F‚Åª', 'oh', 'HF', 'F‚Åª + H‚ÇÇO ‚áå HF + OH‚Åª', 'Zayƒ±f', 8.1, 0.1, 'Flor√ºr iyonu'],
      ['ClO‚Åª', 'oh', 'HClO', 'ClO‚Åª + H‚ÇÇO ‚áå HClO + OH‚Åª', 'Zayƒ±f', 10.5, 0.1, 'Hipoklorit iyonu'],
      ['HS‚Åª', 'oh', 'H‚ÇÇS', 'HS‚Åª + H‚ÇÇO ‚áå H‚ÇÇS + OH‚Åª', 'Zayƒ±f', 7.0, 0.1, 'Hidrojen s√ºlf√ºr iyonu'],
      ['C‚ÇÜH‚ÇÖO‚Åª', 'oh', 'C‚ÇÜH‚ÇÖOH', 'C‚ÇÜH‚ÇÖO‚Åª + H‚ÇÇO ‚áå C‚ÇÜH‚ÇÖOH + OH‚Åª', 'Zayƒ±f', 11.1, 0.1, 'Fenoksit iyonu']
    ];

    // Karanlƒ±k mod kontrol√º
    function checkDarkMode() {
      if (localStorage.getItem('darkMode') === 'enabled') {
        document.body.classList.add('dark-mode');
      }
    }

    // Karanlƒ±k modu deƒüi≈ütirme
    function toggleDarkMode() {
      document.body.classList.toggle('dark-mode');
      if (document.body.classList.contains('dark-mode')) {
        localStorage.setItem('darkMode', 'enabled');
      } else {
        localStorage.setItem('darkMode', 'disabled');
      }
    }

    // √ñzel maddeleri kaydetme
    function saveCustom(data) {
      localStorage.setItem('customSubstances', JSON.stringify(data));
    }

    // √ñzel maddeleri y√ºkleme
    function loadCustom() {
      return JSON.parse(localStorage.getItem('customSubstances')) || [];
    }

    // Hesaplama ge√ßmi≈üini kaydetme
    function saveToHistory(type, input, result) {
      const history = JSON.parse(localStorage.getItem('calculationHistory')) || [];
      history.unshift({
        type: type,
        input: input,
        result: result,
        timestamp: new Date().toLocaleString()
      });
      // En fazla 10 kayƒ±t tut
      if (history.length > 10) history.pop();
      localStorage.setItem('calculationHistory', JSON.stringify(history));
      renderHistory();
    }

    // Ge√ßmi≈üi g√∂r√ºnt√ºleme
    function renderHistory() {
      const history = JSON.parse(localStorage.getItem('calculationHistory')) || [];
      const historyEl = document.getElementById('ph-history');
      historyEl.innerHTML = '';
      
      if (history.length === 0) {
        historyEl.innerHTML = '<p>Hen√ºz ge√ßmi≈ü kayƒ±t yok.</p>';
        return;
      }
      
      history.forEach(item => {
        const div = document.createElement('div');
        div.className = 'history-item';
        div.innerHTML = `
          <p><strong>${item.type}</strong> - ${item.timestamp}</p>
          <p>Girdi: ${item.input}</p>
          <p>Sonu√ß: ${item.result} <button class="copy-btn" onclick="copyToClipboard('${item.result.replace("'", "\\'")}')">Kopyala</button></p>
        `;
        historyEl.appendChild(div);
      });
    }

    // Panoya kopyalama
    function copyToClipboard(text) {
      navigator.clipboard.writeText(text).then(() => {
        alert('Kopyalandƒ±: ' + text);
      });
    }

    // Tablo olu≈üturma
    function renderTable() {
      const tbody = document.getElementById('table-body');
      tbody.innerHTML = '';
      const allData = [...defaultData, ...loadCustom()];
      allData.forEach(([madde, tur, eslenik, iyon, guc, ph, kons, yayginAd]) => {
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td>${madde}${yayginAd ? `<div class="substance-info">${yayginAd}</div>` : ''}</td>
          <td>${tur === 'h' ? 'Asit' : 'Baz'}</td>
          <td>${eslenik}</td>
          <td>${iyon}</td>
          <td>${guc}</td>
          <td>${ph}</td>
          <td><button class="calc-btn" onclick="useSubstance('${tur}', ${kons})">Uygula (${kons}M)</button></td>
        `;
        tbody.appendChild(tr);
      });
    }

    // Yeni madde ekleme
    function addCustomSubstance() {
      const entry = [
        document.getElementById('madde').value,
        document.getElementById('tur').value,
        document.getElementById('eslenik').value,
        document.getElementById('iyon').value,
        document.getElementById('guc').value,
        parseFloat(document.getElementById('phdeger').value),
        parseFloat(document.getElementById('konsantrasyon').value),
        '' // Yaygƒ±n ad bo≈ü
      ];
      
      // Gerekli alanlarƒ±n dolu olduƒüunu kontrol et
      if (!entry[0] || !entry[2] || !entry[3] || !entry[4] || isNaN(entry[5]) || isNaN(entry[6])) {
        alert('L√ºtfen t√ºm alanlarƒ± doldurun ve ge√ßerli sayƒ±lar girin!');
        return;
      }
      
      const existing = loadCustom();
      existing.push(entry);
      saveCustom(existing);
      renderTable();
      
      // Formu temizle
      document.getElementById('madde').value = '';
      document.getElementById('eslenik').value = '';
      document.getElementById('iyon').value = '';
      document.getElementById('guc').value = '';
      document.getElementById('phdeger').value = '';
      document.getElementById('konsantrasyon').value = '';
    }

    // Maddeyi pH hesaplama b√∂l√ºm√ºne uygula
    function useSubstance(tur, kons) {
      document.getElementById('ion-type').value = tur;
      document.getElementById('concentration').value = kons;
      showSection('ph');
      switchPhTab('conc-to-ph');
    }

    // pH hesaplama
    function calculatePH() {
      const conc = parseFloat(document.getElementById('concentration').value);
      const ion = document.getElementById('ion-type').value;
      let result = '';
      
      if (conc > 0) {
        if (ion === 'h') {
          const ph = -Math.log10(conc);
          const poh = 14 - ph;
          result = `pH: <span class="result-value">${ph.toFixed(2)}</span> | pOH: <span class="result-value">${poh.toFixed(2)}</span>`;
        } else {
          const poh = -Math.log10(conc);
          const ph = 14 - poh;
          result = `pOH: <span class="result-value">${poh.toFixed(2)}</span> | pH: <span class="result-value">${ph.toFixed(2)}</span>`;
        }
        saveToHistory('Deri≈üim ‚Üí pH/pOH', `${conc} M ${ion==='h'?'H‚Å∫':'OH‚Åª'}`, result.replace(/<[^>]*>/g, ''));
      } else {
        result = "Ge√ßerli bir deri≈üim giriniz.";
      }
      document.getElementById('ph-result').innerHTML = result;
    }

    // Deri≈üim hesaplama
    function calculateConcentration() {
      const phValue = parseFloat(document.getElementById('ph-value').value);
      const phType = document.getElementById('ph-type').value;
      let result = '';
      
      if (!isNaN(phValue)) {
        if (phType === 'ph') {
          const conc = Math.pow(10, -phValue);
          result = `H‚Å∫ deri≈üimi: <span class="result-value">${conc.toExponential(2)} mol/L</span>`;
        } else {
          const conc = Math.pow(10, -phValue);
          result = `OH‚Åª deri≈üimi: <span class="result-value">${conc.toExponential(2)} mol/L</span>`;
        }
        saveToHistory('pH/pOH ‚Üí Deri≈üim', `${phType} = ${phValue}`, result.replace(/<[^>]*>/g, ''));
      } else {
        result = "Ge√ßerli bir pH/pOH deƒüeri giriniz.";
      }
      document.getElementById('conc-result').innerHTML = result;
    }

    // Karƒ±≈üƒ±m pH hesaplama
    function calculateMixPH() {
      const c1 = parseFloat(document.getElementById('conc1').value);
      const v1 = parseFloat(document.getElementById('vol1').value);
      const c2 = parseFloat(document.getElementById('conc2').value);
      const v2 = parseFloat(document.getElementById('vol2').value);
      
      if (c1 > 0 && v1 > 0 && c2 > 0 && v2 > 0) {
        const totalMol = (c1 * v1 + c2 * v2) / 1000; // mL'yi L'ye √ßevir
        const totalVol = (v1 + v2) / 1000; // mL'yi L'ye √ßevir
        const finalConc = totalMol / totalVol;
        const ph = -Math.log10(finalConc);
        const resultText = `Karƒ±≈üƒ±m pH: <span class="result-value">${ph.toFixed(2)}</span> (${finalConc.toExponential(2)} M H‚Å∫)`;
        document.getElementById('mix-result').innerHTML = resultText;
        saveToHistory('Karƒ±≈üƒ±m pH', `${c1}M ${v1}mL + ${c2}M ${v2}mL`, resultText.replace(/<[^>]*>/g, ''));
      } else {
        document.getElementById('mix-result').textContent = "T√ºm deƒüerleri pozitif giriniz.";
      }
    }

    // pH hesaplama sekmesini deƒüi≈ütirme
    function switchPhTab(tabId) {
      document.querySelectorAll('.tabs-container .tab').forEach(tab => tab.classList.remove('active'));
      document.getElementById('conc-to-ph-content').style.display = 'none';
      document.getElementById('ph-to-conc-content').style.display = 'none';
      
      if (tabId === 'conc-to-ph') {
        document.querySelector('.tabs-container .tab:nth-child(1)').classList.add('active');
        document.getElementById('conc-to-ph-content').style.display = 'block';
      } else {
        document.querySelector('.tabs-container .tab:nth-child(2)').classList.add('active');
        document.getElementById('ph-to-conc-content').style.display = 'block';
      }
    }

    // B√∂l√ºm g√∂sterme
    function showSection(id) {
      document.querySelectorAll('.section').forEach(sec => sec.classList.remove('active'));
      document.getElementById(id).classList.add('active');
    }

    // Sayfa y√ºklendiƒüinde √ßalƒ±≈üacaklar
    window.onload = function() {
      checkDarkMode();
      renderTable();
      renderHistory();
      switchPhTab('conc-to-ph');
    };
  </script>

</body>
</html>